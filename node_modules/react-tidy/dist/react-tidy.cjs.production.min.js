"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("react"),n=(e=t)&&"object"==typeof e&&"default"in e?e.default:e;function r(e){return!!e&&"[object Function]"==={}.toString.call(e)}function u(){return"object"==typeof window&&"object"==typeof document}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e,t,n){return(f=c()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var u=new(Function.bind.apply(e,r));return n&&o(u,n.prototype),u}).apply(null,arguments)}var i,l=function(){return new a},a=function(){function e(){this.memory={}}var t,n=e.prototype;return n.getItem=function(e){return this.memory[e]||null},n.setItem=function(e,t){this.memory[e]=t},n.removeItem=function(e){delete this.memory[e]},n.key=function(e){return Object.keys(this.memory)[e]||null},n.clear=function(){this.memory={}},(t=[{key:"length",get:function(){return Object.keys(this.memory).length}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function s(){return i}function p(){var e=n.useRef(!0);return n.useEffect((function(){return function(){e.current=!1}}),[]),n.useCallback((function(){return e.current}),[])}function y(){var e=n.useState(0)[1],t=p();return function(){t()&&e((function(e){return e+1}))}}i=u()?window.localStorage:l();var m=Symbol();function v(e,t){return!0===e[m]?e:new Proxy(e,{get:g("get",t),defineProperty:g("defineProperty",t),deleteProperty:g("deleteProperty",t)})}function g(e,t){return function(){if("get"===e&&(arguments.length<=1?void 0:arguments[1])===m)return!0;var n=Reflect[e],r=n.apply(void 0,arguments);return"get"===e&&"object"==typeof r&&null!==r&&(r=v(r,t)),"get"!==e&&t(),r}}exports.createMemoryStorage=l,exports.getDefaultStorage=s,exports.setDefaultStorage=function(e){i=e},exports.useInstance=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),u=1;u<t;u++)r[u-1]=arguments[u];var o=y(),c=n.useMemo((function(){return v(f(e,r),o)}),r);return n.useEffect((function(){var e=c;return function(){return e.cleanup&&e.cleanup()}}),r),c},exports.useIsMounted=p,exports.usePrevious=function(e,t){void 0===t&&(t=1);var r=n.useState([]),u=r[0],o=r[1];return n.useEffect((function(){u.length>t&&u.pop(),o([e].concat(u))}),[e]),u.slice(1)},exports.useRefresh=y,exports.useStorage=function(e,o,c){void 0===o&&(o=null),void 0===c&&(c=s());var f=p(),i=t.useMemo((function(){return u()?r(c)?c():c:l()}),[c]),a=t.useMemo((function(){var t=i.getItem(e);return null===t?o:JSON.parse(t)}),[i,e,o]),y=n.useState(a),m=y[0],v=y[1];n.useEffect((function(){i.setItem(e,JSON.stringify(a))}),[e,a]);var g=n.useCallback((function(t){r(t)&&(t=t(m)),null===t?i.removeItem(e):i.setItem(e,JSON.stringify(t)),f()&&v(t)}),[i,e,m]);return[m,g]};
//# sourceMappingURL=react-tidy.cjs.production.min.js.map
